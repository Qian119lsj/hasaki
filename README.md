# Hasaki - æ¸¸æˆè¿›ç¨‹ç½‘ç»œä»£ç†å·¥å…·

<div align="center">

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ¸¸æˆè¿›ç¨‹ç½‘ç»œä»£ç†å·¥å…·ã€‚

[![License](https://img.shields.io/badge/license-GPL%20v3-blue.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-Windows-lightgrey.svg)](#ç³»ç»Ÿè¦æ±‚)
[![Qt](https://img.shields.io/badge/Qt-6.9.0-green.svg)](https://qt.io/)
[![C++](https://img.shields.io/badge/C%2B%2B-20-blue.svg)](#æŠ€æœ¯æ ˆ)

</div>

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Hasaki æ˜¯ä¸€ä¸ªåŸºäº Qt æ¡†æ¶å¼€å‘çš„æ¸¸æˆè¿›ç¨‹ç½‘ç»œä»£ç†å·¥å…·ï¼Œæ—¨åœ¨ä¸ºæ¸¸æˆå¼€å‘è€…ã€ç½‘ç»œè°ƒè¯•äººå‘˜æä¾›å¼ºå¤§çš„ç½‘ç»œæµé‡ç›‘æ§ã€è½¬å‘å’Œç®¡ç†åŠŸèƒ½ã€‚é€šè¿‡é›†æˆ WinDivert åº“ï¼Œå®ç°å¯¹æ¸¸æˆè¿›ç¨‹ç½‘ç»œé€šä¿¡çš„ç²¾ç¡®æ§åˆ¶å’Œæ·±åº¦åˆ†æã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ” **è¿›ç¨‹ç›‘æ§**: å®æ—¶ç›‘æ§æŒ‡å®šæ¸¸æˆè¿›ç¨‹çš„ç½‘ç»œæ´»åŠ¨
- ğŸŒ **æµé‡ä»£ç†**: æ”¯æŒ TCP/UDP æµé‡çš„é€æ˜ä»£ç†å’Œè½¬å‘
- ğŸ“Š **å®æ—¶ç»Ÿè®¡**: æä¾›è¯¦ç»†çš„æµé‡ç»Ÿè®¡å’Œé€Ÿç‡ç›‘æ§
- âš™ï¸ **é…ç½®ç®¡ç†**: çµæ´»çš„ä»£ç†é…ç½®å’Œé¢„è®¾ç®¡ç†ç³»ç»Ÿ
- ğŸ”’ **å¤šåè®®æ”¯æŒ**: æ”¯æŒ SOCKS5 å’Œ Shadowsocks 2022 ç­‰ä»£ç†åè®®
- ğŸ’‰ **æ•°æ®åŒ…æ³¨å…¥**: æ”¯æŒè‡ªå®šä¹‰æ•°æ®åŒ…çš„æ³¨å…¥å’Œæµ‹è¯•
- ğŸ® **æ¸¸æˆå‹å¥½**: ä¸“ä¸ºæ¸¸æˆåº”ç”¨ä¼˜åŒ–çš„ä½å»¶è¿Ÿä»£ç†æœºåˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (x64)
- **æƒé™**: ç®¡ç†å‘˜æƒé™ï¼ˆç”¨äºç½‘ç»œé©±åŠ¨æ“ä½œï¼‰

## ğŸ› ï¸ å¼€å‘æ„å»º

### å¼€å‘ç¯å¢ƒè¦æ±‚

- **Qt**: 6.9.0
- **CMake**: 3.24
- **ç¼–è¯‘å™¨**: Clang (æ¨è) æˆ– MSVC 2019+
- **åŒ…ç®¡ç†å™¨**: vcpkg

### ä¾èµ–åº“

- **WinDivert**: ç½‘ç»œæ•°æ®åŒ…æ•è·å’Œæ³¨å…¥
- **Qt6**: GUI æ¡†æ¶å’Œç½‘ç»œåº“
- **Windows SDK**: Windows å¹³å° API

### æ„å»ºæ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/Qian119lsj/hasaki.git
   cd hasaki
   ```

2. **é…ç½® vcpkg**
   ```bash
   # åœ¨CMakePresets.jsonä¸­ è®¾ç½® vcpkg å·¥å…·é“¾
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   # å®‰è£… Qt Ninja LLVMå·¥å…·é“¾
   ```

4. **é…ç½®å’Œæ„å»º**
   ```bash
   # ä½¿ç”¨ CMake é…ç½®é¡¹ç›®
   cmake --preset clang-release
   
   # æ„å»ºé¡¹ç›®
   cmake --build --preset build-clang-release
   ```

5. **å®‰è£…å’Œéƒ¨ç½²**
   ```bash
   # å®‰è£…
   cmake --install out/build/clang-release
   ```

### å¼€å‘æŒ‡å—

#### é¡¹ç›®ç»“æ„

```
hasaki/
â”œâ”€â”€ include/hasaki/          # å¤´æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ app_settings.h       # åº”ç”¨ç¨‹åºè®¾ç½®ç®¡ç†
â”‚   â”œâ”€â”€ console_manager.h    # æ§åˆ¶å°è¾“å‡ºç®¡ç†
â”‚   â”œâ”€â”€ packet_forwarder.h   # æ•°æ®åŒ…è½¬å‘é€»è¾‘
â”‚   â”œâ”€â”€ proxy_server.h       # ä»£ç†æœåŠ¡å™¨å®ç°
â”‚   â””â”€â”€ ...                  # å…¶ä»–æ¨¡å—å¤´æ–‡ä»¶
â”œâ”€â”€ src/                     # æºç ç›®å½•
â”‚   â”œâ”€â”€ main.cpp            # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ mainwindow.cpp      # ä¸»çª—å£å®ç°
â”‚   â””â”€â”€ ...                 # å¯¹åº”çš„å®ç°æ–‡ä»¶
â”œâ”€â”€ third_party/windivert/   # WinDivert ç½‘ç»œåº“
â”œâ”€â”€ CMakeLists.txt          # CMake é…ç½®æ–‡ä»¶
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

#### æ ¸å¿ƒæ¶æ„

- **MainWindow**: ä¸»ç•Œé¢æ§åˆ¶å™¨ï¼Œåè°ƒå„åŠŸèƒ½æ¨¡å—
- **ProxyServer**: ä»£ç†æœåŠ¡æ ¸å¿ƒï¼Œå¤„ç†ç½‘ç»œæµé‡è½¬å‘
- **PacketForwarder**: æ•°æ®åŒ…è½¬å‘å¼•æ“ï¼ŒåŸºäº WinDivert
- **SessionManager**: TCP/UDP ä¼šè¯ç®¡ç†å™¨
- **AppSettings**: é…ç½®ç®¡ç†ç³»ç»Ÿ

## ğŸ“š æŠ€æœ¯æ–‡æ¡£

### æ¶æ„è®¾è®¡

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦ç»„ä»¶åŒ…æ‹¬ï¼š

- **ç½‘ç»œå±‚**: åŸºäº WinDivert çš„åº•å±‚ç½‘ç»œæ“ä½œ
- **ä»£ç†å±‚**: SOCKS5/Shadowsocks åè®®å®ç°
- **ä¼šè¯å±‚**: TCP/UDP ä¼šè¯ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **ç•Œé¢å±‚**: Qt Widgets å›¾å½¢ç”¨æˆ·ç•Œé¢
- **é…ç½®å±‚**: è®¾ç½®æŒä¹…åŒ–å’Œç®¡ç†

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **GPL v2** è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

### ç¬¬ä¸‰æ–¹åº“è®¸å¯è¯

- **WinDivert**: åŒé‡è®¸å¯ï¼ˆLGPL v3 æˆ– GPL v2ï¼‰- æˆ‘ä»¬é€‰æ‹© LGPL v3 å…¼å®¹è®¸å¯
- **Qt Framework**: LGPL v3ï¼ˆå¼€æºç‰ˆæœ¬ï¼‰
- **å…¶ä»–ä¾èµ–**: å„è‡ªéµå¾ªç›¸åº”çš„å¼€æºè®¸å¯è¯

> âš ï¸ **é‡è¦æç¤º**: ç”±äºä½¿ç”¨äº† WinDivert åº“ï¼Œæœ¬é¡¹ç›®å¿…é¡»éµå¾ª GPL è®¸å¯è¯çš„ç›¸å…³æ¡æ¬¾ã€‚å¦‚æœæ‚¨è®¡åˆ’å°†æ­¤é¡¹ç›®ç”¨äºå•†ä¸šç”¨é€”ï¼Œè¯·ä»”ç»†é˜…è¯» GPL v3 è®¸å¯è¯çš„è¦æ±‚ã€‚

## ğŸ™ è‡´è°¢

- [Qt Framework](https://qt.io/) - å¼ºå¤§çš„è·¨å¹³å° GUI æ¡†æ¶
- [WinDivert](https://www.reqrypt.org/windivert.html) - Windows æ•°æ®åŒ…æ•è·å’Œæ³¨å…¥åº“
- æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…

